<ion-view title="注册" id="test">
    <ion-content>
        <div id="logo">
            <div class="pulse1"></div>
            <div class="pulse2"></div>
            <div class="profilepicture"></div>
        </div>
        <form name="regForm">
            <div class="list list-inset login">
                <label class="item item-input">
                    <input type="email" name="email" ng-model="register.user.email" placeholder="邮箱" required>
                    <div class="error" ng-if="regForm.email.$touched && regForm.email.$dirty && regForm.email.$invalid">
                        <small class="error" ng-if="regForm.email.$error.required">
                            邮箱不能为空
                        </small>
                        <small class="error" ng-if="regForm.email.$error.email">
                            邮箱格式不正确
                        </small>
                    </div>
                </label>

                <label class="item item-input">
                    <input type="password" name="password" ng-model="register.user.password" placeholder="密码" required
                           ng-minlength="6" ng-maxlength="20">
                    <div class="error"
                         ng-if="regForm.password.$touched && regForm.password.$dirty && regForm.password.$invalid">
                        <small class="error" ng-if="regForm.password.$error.required">
                            密码不能为空
                        </small>
                        <small class="error"
                               ng-if="regForm.password.$error.minlength || regForm.password.$error.maxlength">
                            请输入6-20位密码
                        </small>
                    </div>
                </label>

                <label class="item item-input">
                    <input type="password" name="password2" ng-model="register.user.password2" placeholder="确认密码"
                           required compare-to="user.password">
                    <div class="error">
                        <small class="error" ng-if="regForm.password2.$touched && regForm.password2.$error.compareTo">
                            密码不一致
                        </small>
                    </div>
                </label>

            </div>
            <div class="padding">
                <button ng-click="register.doRegister()"
                        ng-disabled="(regForm.email.$touched||regForm.password.$touched||regForm.password2.$touched)&&regForm.$invalid"
                        type="submit" class="button button-block button-light">注册
                </button>
            </div>
            <div class="padding">
                <div class="row">
                    <div class="col text-left"><a href="#/find" style="color:#fff;">忘记密码?</a></div>
                    <div class="col text-right"><a href="#/login" style="color:#fff;">已有帐号</a></div>
                </div>
            </div>
            <div class="padding login-more text-center" ng-if-start="register.isQQInstalled||register.isWeiboInstalled||register.isXiaoMiChannel">
                <p class="title">第三方帐号登录</p>
            </div>
            <div class="padding login-toolbar text-center" ng-if-end>
                <i class="iconfont light" ng-if="register.isQQInstalled" ng-click="register.doQQLogin()">&#xe602;</i>
                <!--                     <i class="iconfont balanced" ng-click="doWechatLogin()">&#xe611;</i>
                 --> <i class="iconfont light" ng-if="register.isWeiboInstalled" ng-click="register.doWeiboLogin()">&#xe607;</i>
                <i class="iconfont light" ng-if="register.isXiaomiChannel" ng-click="login.doXiaomiLogin()">
                    &#xe64f;</i>
            </div>
        </form>
    </ion-content>
</ion-view>